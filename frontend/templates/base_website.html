{% load static %}
<!DOCTYPE html>
<html class="dark" dir="rtl" lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    
    <title>{% block title %}Academic Services - الشراكة الأكاديمية الفائقة{% endblock title %}</title>
    
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || 'dark';
            document.documentElement.classList.remove('dark', 'light');
            document.documentElement.classList.add(theme);
        })();
    </script>
    
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Manrope:wght@400;700;800&display=swap" rel="stylesheet"/>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary-light": "#00AEEF",      
                        "primary-dark": "#B8860B",       
                        "secondary-light": "#008080",    
                        "text-light-dark": "#1A1A1A",   
                        "telegram": "#229ED9", 
                        "background-dark": "#0A0A0A",
                        "background-light": "#F9F9F9",
                        "card-dark": "#1A1A1A",
                        "card-light": "#FFFFFF",
                    },
                    fontFamily: {
                        "display": ["Cairo", "sans-serif"], 
                        "sans": ["Cairo", "Manrope", "sans-serif"] 
                    },
                    boxShadow: {
                        'xl': '0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.3)',
                        'glow': '0 0 25px var(--glow-color, rgba(0, 0, 0, 0.5))', 
                    },
                    keyframes: {
                        'pulse-glow': {
                            '0%, 100%': { opacity: '0.8' },
                            '50%': { opacity: '1', transform: 'scale(1.01)' },
                        }
                    },
                    animation: {
                        'pulse-glow': 'pulse-glow 2.5s ease-in-out infinite',
                    }
                },
            },
        }
    </script>
    <style>
        /* الأكواد الموحدة من جميع الصفحات */
        body { font-family: 'Cairo', 'Manrope', sans-serif; transition: background-color 0.3s, color 0.3s; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Cairo', sans-serif; }
        .hero-background {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px; opacity: 0.1; z-index: -1;
        }

        .dark {
            --primary-color: #B8860B;
            --secondary-color: #A77926;
            --text-color: white;
            --sub-text-color: #C0C0C0;
            --glow-color: rgba(184, 134, 11, 0.7);
        }
        .dark .bg-primary { background-color: var(--primary-color) !important; } 
        .dark .text-primary { color: var(--primary-color) !important; } 
        .dark .bg-secondary { background-color: var(--secondary-color) !important; color: white !important; }
        .dark .bg-primary\/10 { background-color: rgba(184, 134, 11, 0.1) !important; }
        .dark .shadow-primary-glow { box-shadow: 0 0 25px var(--glow-color) !important; }
        .dark .service-card-hover:hover { border-color: var(--primary-color) !important; } 


        .light {
            --primary-color: #00AEEF;
            --secondary-color: #008080;
            --text-color: #1A1A1A;
            --sub-text-color: #555555;
            --glow-color: rgba(0, 174, 239, 0.7);
        }
        .light .bg-background-dark { background-color: #F9F9F9; }
        .light .text-white, .light h1, .light h2, .light h3 { color: var(--text-color); } 
        .light .text-gray-300, .light .text-gray-400 { color: var(--sub-text-color); }
        .light .dark\:bg-card-dark { background-color: #FFFFFF; border-color: #E0E0E0; }
        .light .dark\:text-white { color: var(--text-color); } 
        .light .dark\:text-gray-400 { color: var(--sub-text-color); }
        .light .bg-primary { background-color: var(--primary-color) !important; } 
        .light .text-primary { color: var(--primary-color) !important; }
        .light .bg-secondary { background-color: var(--secondary-color) !important; color: white !important; }
        .light .bg-primary\/10 { background-color: rgba(0, 174, 239, 0.1) !important; }
        .light .shadow-primary-glow { box-shadow: none; }
        .light .service-card-hover:hover { border-color: var(--primary-color) !important; } 


        .service-card-hover {
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            border-color: transparent;
        }
        .service-card-hover:hover {
            transform: scale(1.03); 
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2), 0 0 20px var(--glow-color);
        }
        .service-card-hover:hover .icon-animation {
            transform: scale(1.15) translate(4px, -4px); 
            text-shadow: 0 0 15px currentColor;
        }


        #nav-indicator {
            position: absolute;
            height: 3px;
            bottom: -5px;
            left: 0;
            width: 0;
            background-color: var(--primary-color);
            transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 9999px;
            opacity: 1;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            z-index: 20;
        }
        .light #nav-indicator {
            background-color: #00aeef;
        }
        .dark #nav-indicator {
            background-color: #A77926;
        }
        .nav-link {
             transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
             position: relative;
             z-index: 10;
             padding: 0.5rem 0.75rem; 
             border-radius: 0.5rem;
             cursor: pointer;
        }
        .nav-link:hover {
             color: var(--primary-color);
             transform: translateY(-1px);
        }
        .nav-link.active {
             font-weight: 700;
             color: var(--primary-color);
             background-color: transparent !important;
             padding: 0.5rem 0.75rem !important;
             transform: translateY(-1px);
        }
        .nav-links-container {
             position: relative;
             padding-bottom: 5px; 
        }
        
        .footer-bg {
            background-color: var(--card-color);
            border-top: 1px solid var(--border-color-light);
        }
        .dark .footer-bg {
            background-color: #1A1A1A; 
            border-top-color: #374151;
        }
        .light .footer-bg {
            background-color: #E5E7EB; 
            border-top-color: #D1D5DB;
        }

        .icon-telegram-blue {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23FFFFFF" d="M18.3 5.4l-12.7 5.6c-.9.4-.9.9 0 1.3l2.4 1.1 5.6-3.5c.4-.2.9-.2 1.3 0 .4.2.5.7.1 1.1l-4.4 3.3c-.4.3-.6.5-.8 1l-1.3 3.9c-.3.9-.8 1-.9 1-.2 0-.4-.1-.6-.2l-2.4-1.8c-.2-.2-.4-.3-.7-.3h-.1c-.3 0-.6.1-.9.3l-2.4 1.8c-.3.2-.5.3-.9.3-.4 0-.8-.1-1.2-.4l-.8-2.4c-.2-.5-.1-.9.2-1.3l1.8-1.8c.2-.2.3-.4.3-.7s-.1-.5-.3-.7l-1.8-1.8c-.4-.4-.5-1-.2-1.5l12.7-5.6c.9-.4.9-.9 0-1.3z"/></svg>');
            background-size: 80%;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        /* Mobile Menu styles */
        #mobile-menu-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 40;
            transition: opacity 0.3s ease;
        }
        #mobile-menu-drawer {
            position: fixed;
            top: 0;
            right: 0;
            width: 80%;
            max-width: 300px;
            height: 100%;
            z-index: 50;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            padding: 1.5rem;
            box-shadow: -4px 0 10px rgba(0, 0, 0, 0.3);
        }
        .menu-open #mobile-menu-drawer {
            transform: translateX(0);
        }

    </style>
    
    {% block extra_head %}{% endblock extra_head %}
    
</head>

<body class="bg-background-dark text-white font-sans antialiased transition-colors duration-300" data-page="{% block body_data_page %}home{% endblock body_data_page %}">
    
    <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">
            <div class="bg-primary/10 dark:text-white light:text-black/80 text-center text-xs py-1 font-medium tracking-wide transition-colors duration-300">
                ضمان الأصالة الأكاديمية 100% | حماية حقوق الملكية الفكرية والسرية التامة.
            </div>

            <div class="px-4 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                <div class="layout-content-container flex flex-col max-w-[1200px] flex-1">
                    <header class="sticky top-0 z-50 dark:bg-card-dark/70 light:bg-background-light/90 shadow-lg dark:shadow-background-dark/30 light:shadow-gray-300/50 flex flex-col md:flex-row items-center justify-between whitespace-nowrap px-4 md:px-6 py-3 md:py-4 rounded-xl backdrop-blur-lg transition-colors duration-300">
                        <div class="flex items-center justify-between w-full md:w-auto gap-4 text-primary">
                            <div class="flex items-center gap-2 md:gap-4">
                                <div class="text-primary"><span class="material-symbols-outlined text-2xl md:text-3xl">school</span></div>
                                <h2 class="text-lg md:text-2xl font-black leading-tight tracking-[-0.015em] dark:text-white light:text-black font-display">خدمات جامعية</h2>
                            </div>
                            
                            <div class="flex md:hidden items-center gap-2">
                                <button class="dark:text-white light:text-black hover:text-primary transition-colors duration-300" id="theme-toggle-mobile">
                                    <span class="material-symbols-outlined">light_mode</span>
                                </button>
                                <button class="dark:text-white light:text-black hover:text-primary transition-colors duration-300" id="mobile-menu-btn">
                                    <span class="material-symbols-outlined text-3xl">menu</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="hidden md:flex flex-1 justify-center items-center gap-6 lg:gap-9 nav-links-container">
                            <div id="nav-indicator"></div>
                            
                            <a class="nav-link dark:text-gray-300 light:text-black text-xs lg:text-sm font-medium leading-normal transition-colors duration-300" href="{% url 'home' %}" data-page="home">الرئيسية</a>
                            <a class="nav-link dark:text-gray-300 light:text-black text-xs lg:text-sm font-medium leading-normal transition-colors duration-300" href="{% url 'our_services' %}" data-page="services">الخدمات</a>
                            <a class="nav-link dark:text-gray-300 light:text-black text-xs lg:text-sm font-medium leading-normal transition-colors duration-300" href="{% url 'pricing' %}" data-page="pricing">الأسعار</a>
                            <a class="nav-link dark:text-gray-300 light:text-black text-xs lg:text-sm font-medium leading-normal transition-colors duration-300" href="{% url 'about_us' %}" data-page="about">من نحن</a>
                            <a class="nav-link dark:text-gray-300 light:text-black text-xs lg:text-sm font-medium leading-normal transition-colors duration-300" href="{% url 'faq' %}" data-page="faq">الأسئلة</a>
                        </div>
                        
                        <div class="hidden md:flex items-center gap-2 lg:gap-4">
                            <button class="dark:text-white light:text-black hover:text-primary transition-colors duration-300" id="theme-toggle">
                                <span class="material-symbols-outlined">light_mode</span>
                            </button>

                            <a href="{% url 'executor_dashboard' %}" class="flex min-w-[100px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-3 lg:px-4 bg-primary dark:text-background-dark light:text-white text-xs lg:text-sm font-bold leading-normal tracking-[0.015em] shadow-primary-glow hover:shadow-xl transition-shadow duration-300">
                                <span class="material-symbols-outlined text-base ml-1">person</span>
                                <span class="truncate">لوحة المنفذ</span>
                            </a>
                        </div>
                    </header>
                    
                    <main class="flex flex-col gap-12 md:gap-24 py-8 md:py-16">
                        {% block content %}
                            {% endblock content %}
                    </main>
                </div>
            </div>
            
            <footer class="footer-bg mt-12 py-8">
                <div class="max-w-6xl mx-auto px-4 lg:px-8 grid grid-cols-2 md:grid-cols-4 gap-8 dark:text-gray-400 light:text-gray-600">
                    
                    <div class="col-span-2 md:col-span-1">
                        <div class="flex items-center gap-2 mb-3 dark:text-white light:text-black">
                            <span class="material-symbols-outlined text-2xl text-primary">school</span>
                            <span class="text-xl font-bold">خدمات جامعية</span>
                        </div>
                        <p class="text-sm">شريكك الموثوق نحو التفوق الأكاديمي والمهني. نلتزم بالجودة والأصالة في كل مشروع.</p>
                    </div>

                    <div>
                        <h3 class="font-bold dark:text-white light:text-black mb-3 text-base">روابط سريعة</h3>
                        <ul class="space-y-2 text-sm">
                            <li><a href="{% url 'home' %}" class="hover:text-primary transition-colors">الرئيسية</a></li>
                            <li><a href="{% url 'our_services' %}" class="hover:text-primary transition-colors">الخدمات</a></li>
                            <li><a href="{% url 'pricing' %}" class="hover:text-primary transition-colors">الأسعار/كيف نعمل</a></li>
                            <li><a href="{% url 'about_us' %}" class="hover:text-primary transition-colors">من نحن</a></li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="font-bold dark:text-white light:text-black mb-3 text-base">الدعم والقانونية</h3>
                        <ul class="space-y-2 text-sm">
                            <li><a href="{% url 'faq' %}" class="hover:text-primary transition-colors">الأسئلة الشائعة</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">سياسة الخصوصية</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">شروط الخدمة</a></li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="font-bold dark:text-white light:text-black mb-3 text-base">تواصل معنا</h3>
                        <p class="text-sm">الدعم الفني متاح 24/7:</p>
                        <a href="mailto:support@example.com" class="text-primary font-bold hover:underline text-sm">support@example.com</a>
                        <div class="flex gap-3 mt-3 dark:text-white light:text-black">
                            <a href="#" title="تويتر" class="hover:text-primary transition-colors"><span class="material-symbols-outlined text-xl">alternate_email</span></a>
                            <a href="#" title="تيليجرام" class="hover:text-primary transition-colors"><span class="material-symbols-outlined text-xl">send</span></a>
                        </div>
                    </div>
                </div>
                <div class="text-center text-xs mt-8 pt-4 border-t dark:border-gray-700 light:border-gray-300/50 max-w-6xl mx-auto px-4 dark:text-gray-400 light:text-gray-600">
                    © 2025 خدمات جامعية. جميع الحقوق محفوظة.
                </div>
            </footer>
        </div>
    </div>
    
    <div id="mobile-menu-overlay" class="hidden fixed inset-0 bg-black/50 z-40" onclick="closeMobileMenu()"></div>
    <div id="mobile-menu-drawer" class="bg-card-dark dark:bg-card-dark light:bg-card-light flex flex-col gap-4">
        <div class="flex justify-between items-center pb-4 border-b border-border-color-dark/50">
            <h3 class="text-xl font-black text-primary">قائمة التنقل</h3>
            <button onclick="closeMobileMenu()" class="text-text-primary dark:text-white light:text-black">
                <span class="material-symbols-outlined text-3xl">close</span>
            </button>
        </div>
        
        <a class="nav-link-mobile text-lg font-medium py-3 px-2 rounded hover:bg-primary/10 transition-colors duration-300 dark:text-gray-200 light:text-black" href="{% url 'home' %}">الرئيسية</a>
        <a class="nav-link-mobile text-lg font-medium py-3 px-2 rounded hover:bg-primary/10 transition-colors duration-300 dark:text-gray-200 light:text-black" href="{% url 'our_services' %}">الخدمات</a>
        <a class="nav-link-mobile text-lg font-medium py-3 px-2 rounded hover:bg-primary/10 transition-colors duration-300 dark:text-gray-200 light:text-black" href="{% url 'pricing' %}">الأسعار</a>
        <a class="nav-link-mobile text-lg font-medium py-3 px-2 rounded hover:bg-primary/10 transition-colors duration-300 dark:text-gray-200 light:text-black" href="{% url 'about_us' %}">من نحن</a>
        <a class="nav-link-mobile text-lg font-medium py-3 px-2 rounded hover:bg-primary/10 transition-colors duration-300 dark:text-gray-200 light:text-black" href="{% url 'faq' %}">الأسئلة الشائعة</a>
        
        <a href="{% url 'executor_dashboard' %}" class="flex items-center justify-center gap-2 rounded-xl py-3 px-4 bg-primary text-white text-base font-bold transition-shadow duration-300 mt-4">
            <span class="material-symbols-outlined text-lg">person</span>
            <span>لوحة المنفذ</span>
        </a>
    </div>

    <script>
        // دالة Mobile Menu
        const mobileMenuDrawer = document.getElementById('mobile-menu-drawer');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');

        function openMobileMenu() {
            mobileMenuDrawer.classList.remove('translate-x-full');
            mobileMenuOverlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // لمنع التمرير خلف القائمة
        }
        function closeMobileMenu() {
            mobileMenuDrawer.classList.add('translate-x-full');
            mobileMenuOverlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('DOMContentLoaded', () => {
            const toggleButton = document.getElementById('theme-toggle');
            const htmlElement = document.documentElement;
            
            let currentMode = localStorage.getItem('theme') || 'dark';
            htmlElement.classList.remove('dark', 'light');
            htmlElement.classList.add(currentMode);
            updateToggleButton(currentMode);

            function updateToggleButton(mode) {
                if(!toggleButton) return;
                const icon = toggleButton.querySelector('.material-symbols-outlined');
                icon.textContent = mode === 'dark' ? 'light_mode' : 'dark_mode';
            }

            if (toggleButton) {
                toggleButton.addEventListener('click', () => {
                    currentMode = htmlElement.classList.contains('dark') ? 'light' : 'dark';
                    
                    htmlElement.classList.remove('dark', 'light');
                    htmlElement.classList.add(currentMode);
                    
                    localStorage.setItem('theme', currentMode);
                    updateToggleButton(currentMode);
                    
                    const activeLink = document.querySelector('.nav-link.active');
                    if (activeLink) setTimeout(() => { moveIndicator(activeLink); }, 50); 
                });
            }
            
            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const themeToggleMobile = document.getElementById('theme-toggle-mobile');
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', openMobileMenu);
            }
            
            if (themeToggleMobile) {
                themeToggleMobile.addEventListener('click', () => {
                    currentMode = htmlElement.classList.contains('dark') ? 'light' : 'dark';
                    htmlElement.classList.remove('dark', 'light');
                    htmlElement.classList.add(currentMode);
                    localStorage.setItem('theme', currentMode);
                    updateToggleButton(currentMode);
                    const icon = themeToggleMobile.querySelector('.material-symbols-outlined');
                    icon.textContent = currentMode === 'dark' ? 'light_mode' : 'dark_mode';
                });
            }

            function moveIndicator(targetElement) {
                const indicator = document.getElementById('nav-indicator');
                if (!indicator || !targetElement) return;

                const targetRect = targetElement.getBoundingClientRect();
                const container = document.querySelector('.nav-links-container');
                const containerRect = container.getBoundingClientRect();

                indicator.style.width = `${targetRect.width}px`;
                const offsetLeft = targetRect.left - containerRect.left;
                indicator.style.left = `${offsetLeft}px`;
                indicator.style.transform = 'none';
                indicator.style.transition = 'left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                indicator.style.opacity = '1';
            }

            function setActiveLink(clickedLink) {
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    link.classList.remove('text-primary', 'bg-primary/10', 'rounded-lg', 'px-3', 'py-2');
                    link.classList.add('dark:text-gray-300', 'light:text-gray-600');
                });
                
                clickedLink.classList.add('active');
                clickedLink.classList.remove('dark:text-gray-300', 'light:text-gray-600');
                clickedLink.classList.add('text-primary', 'bg-primary/10', 'rounded-lg', 'px-3', 'py-2');
                
                setTimeout(() => {
                    moveIndicator(clickedLink);
                }, 50);
            }

            const currentPage = document.body.dataset.page;
            const activeLink = document.querySelector(`.nav-link[data-page="${currentPage}"]`);
            if (activeLink) {
                setTimeout(() => { 
                    setActiveLink(activeLink); 
                }, 100); 
            }

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    setActiveLink(link);
                });
            });
        });
    </script>
    
    {% block extra_js %}{% endblock extra_js %}
    
</body>
</html>